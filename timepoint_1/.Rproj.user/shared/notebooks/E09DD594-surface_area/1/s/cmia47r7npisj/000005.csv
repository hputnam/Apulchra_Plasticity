"0","#load wax data
wax.data <- read.csv(""data/1_surface_area/1_surface_area_data.csv"", header=TRUE)
wax.data$delta.mass.g <- wax.data$weight2.g-wax.data$weight1.g
stnds <- subset(wax.data, Sample==""Standard"")
stnds <- stnds[-1,] # the largest data point was an artifact outlier. It was removed, as it had bubbles of air escape the wooden sphere, leaving gaps in the wax
#calculate the surface area of the spherical standards from the diameter
stnds$rad <- stnds$Diameter/2
stnds$surface.area.cm2 <- 4*pi*(stnds$rad)^2
# calculate the curve coefficients for slope and intercept to apply as the standard
stnd.curve <- lm(surface.area.cm2~delta.mass.g, data=stnds)
plot(surface.area.cm2~delta.mass.g, data=stnds)
stnd.curve$coefficients
"
"1"," (Intercept) "
"1","delta.mass.g "
"1","
"
"1","   -0.221564 "
"1","   45.386158 "
"1","
"
"0","summary(stnd.curve)$r.squared"
"1","[1]"
"1"," 0.9795145"
"1","
"
"0","#Calculate surface area using the standard curve"
"0","smpls <- subset(wax.data, Sample==""Coral"")"
"0","smpls$surface.area.cm2 <- stnd.curve$coefficients[2] * smpls$delta.mass.g + stnd.curve$coefficients[1]"
"0","#select the samples only"
"0","smpls <- smpls %>%"
"0","  select(-Sample, -Diameter)"
"0","smpls %>%"
"0","  count(colony_id) %>% arrange(n)"
