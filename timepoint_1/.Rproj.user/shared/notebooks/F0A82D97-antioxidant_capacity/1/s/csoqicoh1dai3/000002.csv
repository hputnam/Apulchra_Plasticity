"0","# Function to read in TAC data"
"0","read_tac <- function(file) {"
"0","  tac_data <- read_csv(file, skip = 23, n_max = 24) %>%"
"0","    select(-1) %>%"
"0","    magrittr::set_colnames(c(""row"", 1:12, ""wavelength"")) %>%"
"0","    gather(""col"", ""absorbance"", -wavelength, -row) %>%"
"0","    unite(""well"", c(row, col), sep = """")"
"0","}"
"0","# List TAC data files"
"0","tac_path = ""data/1_antioxidant_capacity/""                                                 # Path to TAC data directory"
"0","all_tac_files <- list.files(path = tac_path, pattern = ""*.csv"")          # List all files in directory"
"0","tac_platemaps <- list.files(path = tac_path, pattern = ""platemap"")       # List platemap files"
"0","tac_data_files <- setdiff(all_tac_files, tac_platemaps)                  # List data files"
"0","# Read in all files into tibble"
"0","df <- tibble(file = tac_data_files) %>%"
"0","  separate(file, into = c(""trip"", ""date"", ""plate"", ""readtime""), remove = FALSE) %>%"
"0","  unite(plate, trip, date, plate) %>%"
"0","  mutate(platemap = map(plate, ~read_csv(paste0(tac_path, ., ""_TAC_platemap.csv""))),"
"0","         tac_data = map( file, ~read_tac(paste0(tac_path, .))))"
"0","# Merge platemap and data for each plate"
"0","df <- df %>%"
"0","  mutate(merged = map2(platemap, tac_data, ~ right_join(.x, .y)))"
